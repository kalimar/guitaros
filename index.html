<!DOCTYPE html>
<html lang="en">

<head>
    <!-- this layout is copied almost entirely from https://codepen.io/kzwr/pen/OePxqy -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/awesomplete/1.1.5/awesomplete.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/awesomplete/1.1.5/awesomplete.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel=^stylesheet href="main.css">
</head>

<body data-spy="scroll" data-target="#myScrollspy" data-offset="15"></body>

<div class="container-fluid" style="background-color:#2196F3;color:#fff;height:360px;">
    <h1>HX Stomp Patch Guide</h1>
    <h3>Get Started using our guide to build your Hx Stomp Patches</h3>
    <p>Browse the Blocks to learn ways to use them</p>
    <p>Blocks sections contain:</p>
    <ul>
        <li>Links to the gear that inspires them</li>
        <li>Links to tutorial videos</li>
        <li>Links to example patches we've created</li>
    </ul>
    <p>Patches contain</p>
    <ul>
        <li>description of the patch</li>
        <li>Visualizations of the patch (courtesy of https://sensationnel-gerard-26922.herokuapp.com/)</li>
        <li>Link to the patch</li>
    </ul>
</div>
<br>

<div class="container">
    <div class="row">
        <nav class="col-sm-3" id="myScrollspy">
            <ul class="nav nav-pills nav-stacked" data-spy="affix" data-offset-top="100">
            <li><input id="awesomplete-input" /></li>
                <li><a href="#blocks">Blocks</a></li>
                <li><a href="#section2">Section 2</a></li>
                <li><a href="#section3">Section 3</a></li>
                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">Section 4 <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="#section41">Section 4-1</a></li>
                        <li><a href="#section42">Section 4-2</a></li>
                    </ul>
                </li>
            </ul>
        </nav>

        <div class="col-sm-9">
            <div id="blocks"" class="searchable">
                <h1>Blocks</h1>
                <p>Try to scroll this section and look at the navigation list while scrolling!</p>
            </div>
            <div id="section2">
                <h1>Section 2</h1>
                <p>Try to scroll this section and look at the navigation list while scrolling!</p>
            </div>
            <div id="section3">
                <h1>Section 3</h1>
                <p>Try to scroll this section and look at the navigation list while scrolling!</p>
            </div>
            <div id="section41">
                <h1>Section 4-1</h1>
                <p>Try to scroll this section and look at the navigation list while scrolling!</p>
            </div>
            <div id="section42" class="searchable">
                <h1>Section 4-2</h1>
                <p>Try to scroll this section and look at the navigation list while scrolling!</p>
            </div>
            <div id="section43" class="searchable">
                <h1>Section 4-3</h1>
                <p>Try to scroll this section and look at the navigation list while scrolling!</p>
            </div>
            <div id="section44" class="searchable">
                <h1>Section 4-4</h1>
                <p>Try to scroll this section and look at the navigation list while scrolling!</p>
            </div>
            <div id="section45" class="searchable">
                <h1>Section 4-5</h1>
                <p>Try to scroll this section and look at the navigation list while scrolling!</p>
            </div>
        </div>

    </div>
</div>

<script type="text/javascript">
    // Get the classes of type "searchable", these will be searchable in the awesomeplete input
    var items = document.getElementsByClassName("searchable");

    // Get the Awesomeplete input box
    var input = document.getElementById("awesomplete-input");

    // Initialize the searchable list
    var list = [];

    // Add the searchable item to a list
    for (var i = 0; i < items.length; i++) {
        // Inner Text is the display name, ID is the indexed name
        list[i] = [items[i].innerText.toString(), items[i].id.toString()];
    }

    // Setup empty awesomeplete
    var awesomplete = new Awesomplete(input);

    // Set the list to the searchables
    awesomplete.list = list;

    // Show availiable items after 1 character is entered
    awesomplete.minChars = 1;

    // When an item is selected, scroll to it and reset the awesomeplete input
    Awesomplete.$.bind(input, {
        "awesomplete-selectcomplete": function (evt) {
            document.getElementById(evt.text.value).scrollIntoView();
            awesomplete.close();
            input.value = "";
        }
    });
</script>
</body>

</html>